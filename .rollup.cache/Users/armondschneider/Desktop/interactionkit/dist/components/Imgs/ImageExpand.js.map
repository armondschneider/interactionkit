{"version":3,"file":"ImageExpand.js","sourceRoot":"","sources":["../../../src/components/Imgs/ImageExpand.tsx"],"names":[],"mappings":"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","sourcesContent":["\"use client\";\n\nimport { useState, useMemo } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport Image from 'next/image';\n\ntype ImageType = {\n  src: string;\n  alt: string;\n};\n\ntype ImageStackProps = {\n  images: ImageType[];\n  className?: string;\n};\n\n// Calculate dimensions for each image based on index\nconst calculateDimensions = (index: number, isExpanded: boolean) => {\n  if (isExpanded) {\n    // Expanded dimensions - wider aspect ratios\n    switch (index) {\n      case 0: return { width: 240, height: 180 };\n      case 1: return { width: 260, height: 180 };\n      case 2: return { width: 280, height: 160 };\n      case 3: return { width: 320, height: 180 };\n      default: return { width: 220, height: 180 };\n    }\n  } else {\n    return { width: 240, height: 180 }; // Wider collapsed state\n  }\n};\n\n// calculate offset based on index and expanded state\nconst calculateOffset = (index: number, isExpanded: boolean) => {\n  if (isExpanded) {\n    switch (index) {\n      case 0: return { x: -120, y: -80 };\n      case 1: return { x: 120, y: -110 };\n      case 2: return { x: -120, y: 50 };\n      case 3: return { x: 120, y: 120 };\n      default: return { x: 0, y: 0 };\n    }\n  } else {\n    return { x: 0, y: index * 35 };\n  }\n};\n\nconst ImageExpand = ({\n  images,\n  className = '',\n}: ImageStackProps) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  // Memoize rotations to prevent them from changing on every render\n  const rotations = useMemo(() => {\n    return images.map((_, index) => ({\n      collapsed: Math.random() * 15 - 5, // Small random rotation when collapsed\n      expanded: Math.random() * 25 - 5   // Larger random rotation when expanded\n    }));\n  }, [images]);\n\n  const toggleExpand = () => {\n    setIsExpanded(!isExpanded);\n  };\n\n  return (\n    <div className={`relative flex justify-center ${className}`}>\n      <div \n        className=\"relative\" \n        style={{ \n          height: isExpanded ? '400px' : '200px',\n          width: isExpanded ? '800px' : '260px',\n          transition: 'all 0.5s ease-in-out'\n        }}\n      >\n        <AnimatePresence>\n          {images.map((image, index) => {\n            const dimensions = calculateDimensions(index, isExpanded);\n            const offset = calculateOffset(index, isExpanded);\n            const rotation = isExpanded ? rotations[index].expanded : rotations[index].collapsed;\n            \n            return (\n              <motion.div\n                key={image.src}\n                className=\"absolute rounded-3xl overflow-hidden bg-white border-4 border-white cursor-pointer\"\n                style={{\n                  zIndex: 20 + index,\n                  width: dimensions.width,\n                  height: dimensions.height,\n                  left: '50%',\n                  top: '50%',\n                  transformOrigin: 'center center',\n                  boxShadow: '0 10px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2)'\n                }}\n                onClick={toggleExpand}\n                initial={false}\n                animate={{\n                  x: offset.x - dimensions.width / 2,\n                  y: offset.y - dimensions.height / 2,\n                  rotate: rotation,\n                  width: dimensions.width,\n                  height: dimensions.height,\n                }}\n                transition={{\n                  type: 'spring',\n                  damping: 25,\n                  stiffness: 200,\n                  mass: 1.2,\n                  bounce: 0.8,\n                }}\n              >\n                <Image\n                  src={image.src}\n                  alt={image.alt}\n                  width={dimensions.width}\n                  height={dimensions.height}\n                  className=\"w-full h-full object-cover\"\n                  priority\n                />\n              </motion.div>\n            );\n          })}\n        </AnimatePresence>\n      </div>\n    </div>\n  );\n};\n\nexport default ImageExpand;"]}